{"ast":null,"code":"import Modal from 'bootstrap/js/dist/modal';\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {};\n      }\n    }\n  },\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n    }\n  },\n  data() {\n    return {\n      modal: {},\n      tempProduct: {}\n    };\n  },\n  methods: {\n    showModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n    uploadFile() {\n      const uploadedFile = this.$refs.fileInput.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', uploadedFile);\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http.post(api, formData).then(res => {\n        console.log(res.data);\n        // if (res.data.success) {\n        //   this.tempProduct.imageUrl = res.data.imageUrl\n        // }\n      });\n    }\n  },\n\n  mounted() {\n    this.modal = new Modal(this.$refs.modal);\n  }\n};","map":{"version":3,"names":["Modal","props","product","type","Object","default","watch","tempProduct","data","modal","methods","showModal","show","hideModal","hide","uploadFile","uploadedFile","$refs","fileInput","files","formData","FormData","append","api","process","env","VUE_APP_API","VUE_APP_PATH","$http","post","then","res","console","log","mounted"],"sources":["/Users/luojidong/vue學習/vue-最終作業/vue-final-project/src/components/ProductModal.vue"],"sourcesContent":["<template>\n  <div\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>新增產品</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"image\"\n                  placeholder=\"請輸入圖片連結\"\n                  v-model=\"tempProduct.imageUrl\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\"\n                  >或 上傳圖片\n                  <i class=\"fas fa-spinner fa-spin\"></i>\n                </label>\n                <input type=\"file\" id=\"customFile\" class=\"form-control\" @change=\"uploadFile\" ref=\"fileInput\"/>\n              </div>\n              <img class=\"img-fluid\" alt=\"\" />\n              <!-- 延伸技巧，多圖 -->\n              <div class=\"mt-5\">\n                <div class=\"mb-3 input-group\">\n                  <input\n                    type=\"url\"\n                    class=\"form-control form-control\"\n                    placeholder=\"請輸入連結\"\n                  />\n                  <button type=\"button\" class=\"btn btn-outline-danger\">\n                    移除\n                  </button>\n                </div>\n                <div>\n                  <button class=\"btn btn-outline-primary btn-sm d-block w-100\">\n                    新增圖片\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">標題</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"title\"\n                  placeholder=\"請輸入標題\"\n                  v-model=\"tempProduct.title\"\n                />\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"category\"\n                    placeholder=\"請輸入分類\"\n                    v-model=\"tempProduct.category\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">單位</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"unit\"\n                    placeholder=\"請輸入單位\"\n                    v-model=\"tempProduct.unit\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"origin_price\"\n                    placeholder=\"請輸入原價\"\n                    v-model.number=\"tempProduct.origin_price\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"price\"\n                    placeholder=\"請輸入售價\"\n                    v-model.number=\"tempProduct.price\"\n                  />\n                </div>\n              </div>\n              <hr />\n\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"description\"\n                  placeholder=\"請輸入產品描述\"\n                  v-model=\"tempProduct.description\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label\">說明內容</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"content\"\n                  placeholder=\"請輸入產品說明內容\"\n                  v-model=\"tempProduct.content\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    v-model=\"tempProduct.is_enabled\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    id=\"is_enabled\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\">\n                    是否啟用\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-product',tempProduct)\">確認</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal'\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default () {\n        return {}\n      }\n    }\n  },\n  watch: {\n    product () {\n      this.tempProduct = this.product\n    }\n  },\n  data () {\n    return {\n      modal: {},\n      tempProduct: {}\n    }\n  },\n  methods: {\n    showModal () {\n      this.modal.show()\n    },\n    hideModal () {\n      this.modal.hide()\n    },\n    uploadFile () {\n      const uploadedFile = this.$refs.fileInput.files[0]\n      const formData = new FormData()\n      formData.append('file-to-upload', uploadedFile)\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\n      this.$http.post(api, formData).then((res) => {\n        console.log(res.data)\n        // if (res.data.success) {\n        //   this.tempProduct.imageUrl = res.data.imageUrl\n        // }\n      })\n    }\n  },\n  mounted () {\n    this.modal = new Modal(this.$refs.modal)\n  }\n}\n</script>\n"],"mappings":"AA+KA,OAAOA,KAAI,MAAO,yBAAwB;AAE1C,eAAe;EACbC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,MAAM;MACZC,OAAMA,CAAA,EAAK;QACT,OAAO,CAAC;MACV;IACF;EACF,CAAC;EACDC,KAAK,EAAE;IACLJ,OAAMA,CAAA,EAAK;MACT,IAAI,CAACK,WAAU,GAAI,IAAI,CAACL,OAAM;IAChC;EACF,CAAC;EACDM,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,KAAK,EAAE,CAAC,CAAC;MACTF,WAAW,EAAE,CAAC;IAChB;EACF,CAAC;EACDG,OAAO,EAAE;IACPC,SAAQA,CAAA,EAAK;MACX,IAAI,CAACF,KAAK,CAACG,IAAI,CAAC;IAClB,CAAC;IACDC,SAAQA,CAAA,EAAK;MACX,IAAI,CAACJ,KAAK,CAACK,IAAI,CAAC;IAClB,CAAC;IACDC,UAASA,CAAA,EAAK;MACZ,MAAMC,YAAW,GAAI,IAAI,CAACC,KAAK,CAACC,SAAS,CAACC,KAAK,CAAC,CAAC;MACjD,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC;MAC9BD,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEN,YAAY;MAC9C,MAAMO,GAAE,GAAK,GAAEC,OAAO,CAACC,GAAG,CAACC,WAAY,OAAMF,OAAO,CAACC,GAAG,CAACE,YAAa,eAAa;MACnF,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,GAAG,EAAEH,QAAQ,CAAC,CAACU,IAAI,CAAEC,GAAG,IAAK;QAC3CC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACvB,IAAI;QACpB;QACA;QACA;MACF,CAAC;IACH;EACF,CAAC;;EACD0B,OAAMA,CAAA,EAAK;IACT,IAAI,CAACzB,KAAI,GAAI,IAAIT,KAAK,CAAC,IAAI,CAACiB,KAAK,CAACR,KAAK;EACzC;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}