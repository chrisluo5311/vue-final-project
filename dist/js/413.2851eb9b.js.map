{"version":3,"file":"js/413.2851eb9b.js","mappings":"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","sources":["webpack://vue-final-project/./src/views/ProductsView.vue","webpack://vue-final-project/./src/components/ProductModal.vue","webpack://vue-final-project/./src/components/ProductModal.vue?b0ff","webpack://vue-final-project/./src/components/DelModal.vue","webpack://vue-final-project/./src/components/DelModal.vue?ce42","webpack://vue-final-project/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\n    <LoadingComponent :active=\"isLoading\"></LoadingComponent>\n    <div class=\"text-end mt-3\">\n      <button class=\"btn btn-primary\" type=\"button\"\n      @click=\"openModal(true)\">\n        增加一個商品\n      </button>\n    </div>\n    <table class=\"table mt-4\">\n    <thead>\n        <tr>\n        <th width=\"120\">分類</th>\n        <th>產品名稱</th>\n        <th width=\"120\">原價</th>\n        <th width=\"120\">售價</th>\n        <th width=\"100\">是否啟用</th>\n        <th width=\"200\">編輯</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr v-for=\"item in product\" :key=\"item.id\">\n        <td>{{ item.category }}</td>\n        <td>{{ item.title }}</td>\n        <td class=\"text-right\">\n            {{ $filters.currency(item.origin_price) }}\n        </td>\n        <td class=\"text-right\">\n            {{ $filters.currency(item.price) }}\n        </td>\n        <td>\n            <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n            <span class=\"text-muted\" v-else>未啟用</span>\n        </td>\n        <td>\n            <div class=\"btn-group\">\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false, item)\">編輯</button>\n            <button class=\"btn btn-outline-danger btn-sm\" @click=\"openModal(false, item, true)\">刪除</button>\n            </div>\n        </td>\n        </tr>\n    </tbody>\n    </table>\n    <PaginationComponent :pages=\"pagination\" @emit-pages=\"getProducts\"></PaginationComponent>\n    <ProductModal ref=\"productModal\"\n    :product=\"tempProduct\" @update-product=\"updateProduct\"></ProductModal>\n    <DelModal ref=\"delModal\" :product=\"tempProduct\" @delete-product=\"deleteProduct\"></DelModal>\n</template>\n\n<script>\nimport ProductModal from '../components/ProductModal.vue';\nimport DelModal from '../components/DelModal.vue';\nimport PaginationComponent from '../components/PaginationComponent.vue';\n\nexport default {\n  data () {\n    return {\n      product: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false,\n      isLoading: false,\n    }\n  },\n  components: {\n    ProductModal,\n    DelModal,\n    PaginationComponent\n  },\n  inject: ['emitter'],\n  methods: {\n    openModal (isNew, item, isDelete = false) {\n      if (isNew) {\n        this.tempProduct = {};\n      } else {\n        this.tempProduct = { ...item };\n      }\n      this.isNew = isNew;\n      let modalComponent = this.$refs.productModal;\n      if (isDelete) {\n        modalComponent = this.$refs.delModal;\n      }\n      modalComponent.showModal();\n    },\n    getProducts (page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.isLoading = true;\n      this.$http.get(api).then((response) => {\n        this.isLoading = false;\n        if (response.data.success) {\n          console.log(response);\n          this.product = response.data.products;\n          this.pagination = response.data.pagination;\n        }\n      });\n    },\n    updateProduct (item) {\n      this.tempProduct = item;\n      console.log(this.tempProduct);\n      // 新增\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n      let httpMethod = 'post';\n      // 編輯\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n        httpMethod = 'put';\n      }\n      const productComponent = this.$refs.productModal;\n      this.isLoading = true;\n      this.$http[httpMethod](api, { data: this.tempProduct }).then((response) => {\n        this.isLoading = false;\n        console.log(response);\n        productComponent.hideModal();\n        this.getProducts();\n        this.$httpPushMessageState(response)\n      });\n    },\n    deleteProduct (item) {\n      const delComponent = this.$refs.delModal;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n      this.isLoading = true;\n      this.$http.delete(api).then((response) => {\n        this.isLoading = false;\n        if (response.data.success) {\n          console.log(response);\n          delComponent.hideModal();\n          this.getProducts();\n        }\n      });\n    }\n  },\n  created () {\n    this.getProducts();\n  }\n}\n</script>\n","<template>\n  <LoadingComponent :active=\"isLoading\"></LoadingComponent>\n  <div\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>新增產品</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"image\"\n                  placeholder=\"請輸入圖片連結\"\n                  v-model=\"tempProduct.imageUrl\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\"\n                  >或 上傳圖片\n                  <i class=\"fas fa-spinner fa-spin\"></i>\n                </label>\n                <input type=\"file\" id=\"customFile\" class=\"form-control\" @change=\"uploadFile\" ref=\"fileInput\"/>\n              </div>\n              <img class=\"img-fluid\" alt=\"\" />\n              <!-- 延伸技巧，多圖 -->\n              <div class=\"mt-5\">\n                <div class=\"mb-3 input-group\">\n                  <input\n                    type=\"url\"\n                    class=\"form-control form-control\"\n                    placeholder=\"請輸入連結\"\n                  />\n                  <button type=\"button\" class=\"btn btn-outline-danger\">\n                    移除\n                  </button>\n                </div>\n                <div>\n                  <button class=\"btn btn-outline-primary btn-sm d-block w-100\">\n                    新增圖片\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">標題</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"title\"\n                  placeholder=\"請輸入標題\"\n                  v-model=\"tempProduct.title\"\n                />\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"category\"\n                    placeholder=\"請輸入分類\"\n                    v-model=\"tempProduct.category\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">單位</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"unit\"\n                    placeholder=\"請輸入單位\"\n                    v-model=\"tempProduct.unit\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"origin_price\"\n                    placeholder=\"請輸入原價\"\n                    v-model.number=\"tempProduct.origin_price\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"price\"\n                    placeholder=\"請輸入售價\"\n                    v-model.number=\"tempProduct.price\"\n                  />\n                </div>\n              </div>\n              <hr />\n\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"description\"\n                  placeholder=\"請輸入產品描述\"\n                  v-model=\"tempProduct.description\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label\">說明內容</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"content\"\n                  placeholder=\"請輸入產品說明內容\"\n                  v-model=\"tempProduct.content\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    v-model=\"tempProduct.is_enabled\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    id=\"is_enabled\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\">\n                    是否啟用\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-product',tempProduct)\">確認</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default () {\n        return {}\n      }\n    }\n  },\n  watch: {\n    product () {\n      this.tempProduct = this.product;\n    }\n  },\n  data () {\n    return {\n      modal: {},\n      tempProduct: {},\n      isLoading: false,\n    }\n  },\n  mixins: [modalMixin],\n  methods: {\n    uploadFile () {\n      const uploadedFile = this.$refs.fileInput.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', uploadedFile);\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.isLoading = true;\n      this.$http.post(api, formData).then((res) => {\n        this.isLoading = false;\n        console.log(res.data);\n        if (res.data.success) {\n          this.tempProduct.imageUrl = res.data.imageUrl;\n        }\n      })\n    }\n  }\n}\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=21ae1aa4\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-danger text-white\">\n        <h5 class=\"modal-title\">刪除 {{ tempProduct.title }}</h5>\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n            <p>是否刪除 <span class=\"text-danger\">{{ tempProduct.title }}</span>(刪除後將無法恢復)</p>\n        </div>\n        <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n            <button type=\"button\" class=\"btn btn-danger text-white\" @click=\"$emit('delete-product',tempProduct)\">確認刪除</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default () {\n        return {}\n      }\n    }\n  },\n  watch: {\n    product () {\n      this.tempProduct = this.product;\n    }\n  },\n  data () {\n    return {\n      modal: {},\n      tempProduct: {},\n    }\n  },\n  mixins: [modalMixin],\n}\n\n</script>\n","import { render } from \"./DelModal.vue?vue&type=template&id=070caa7a\"\nimport script from \"./DelModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=73002fc5\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_createVNode","_component_LoadingComponent","active","$data","isLoading","_hoisted_1","type","onClick","_cache","$event","$options","openModal","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","_renderList","product","item","key","id","_toDisplayString","category","title","_hoisted_4","_ctx","$filters","currency","origin_price","_hoisted_5","price","is_enabled","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_component_PaginationComponent","pages","pagination","onEmitPages","getProducts","_component_ProductModal","ref","tempProduct","onUpdateProduct","updateProduct","_component_DelModal","onDeleteProduct","deleteProduct","tabindex","role","for","placeholder","imageUrl","_hoisted_11","onChange","args","uploadFile","_hoisted_12","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","unit","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","description","_hoisted_30","_hoisted_31","content","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","$emit","props","Object","default","watch","this","data","modal","mixins","modalMixin","methods","uploadedFile","$refs","fileInput","files","formData","FormData","append","api","$http","post","then","res","console","log","success","__exports__","isNew","components","ProductModal","DelModal","PaginationComponent","inject","isDelete","modalComponent","productModal","delModal","showModal","page","get","response","products","httpMethod","productComponent","hideModal","$httpPushMessageState","delComponent","delete","created","render"],"sourceRoot":""}