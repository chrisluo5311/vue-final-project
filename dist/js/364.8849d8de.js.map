{"version":3,"file":"js/364.8849d8de.js","mappings":"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","sources":["webpack://vue-final-project/./src/views/UserCart.vue","webpack://vue-final-project/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\n  <LoadingComponent :active=\"isLoading\"></LoadingComponent>\n  <div class=\"container\">\n    <div class=\"row mt-4\">\n      <div class=\"col-md-7\">\n        <table class=\"table align-middle\">\n          <thead>\n            <tr>\n              <th>圖片</th>\n              <th>商品名稱</th>\n              <th>價格</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"product in products\" :key=\"product.id\">\n              <td style=\"width: 200px\">\n                <div\n                  style=\"\n                    height: 100px;\n                    background-size: cover;\n                    background-position: center;\n                  \"\n                  :style=\"{ backgroundImage: `url(${product.imageUrl})` }\"\n                ></div>\n              </td>\n              <td>\n                <a href=\"#\" class=\"text-dark\">{{ product.title }}</a>\n              </td>\n              <td>\n                <div class=\"h5\"></div>\n                <div class=\"h6\" v-if=\"!product.price\">\n                  {{ product.origin_price }}\n                </div>\n                <del class=\"h6\" v-if=\"product.price\"\n                  >原價 {{ product.origin_price }}</del\n                >\n                <div class=\"h5\" v-if=\"product.price\">\n                  現在只要 {{ product.price }}\n                </div>\n              </td>\n              <td>\n                <div class=\"btn-group\">\n                  <button\n                    class=\"btn btn-outline-secondary btn-sm\"\n                    @click=\"getProduct(product.id)\"\n                  >\n                    查看更多\n                  </button>\n                  <button\n                    class=\"btn btn-outline-danger btn-sm\"\n                    :disabled=\"this.status.loadingItem === product.id\"\n                    @click=\"addCart(product.id)\"\n                  >\n                    <div\n                      v-if=\"this.status.loadingItem === product.id\"\n                      class=\"spinner-grow text-danger spinner-grow-sm\"\n                      role=\"status\"\n                    >\n                      <span class=\"visually-hidden\">Loading...</span>\n                    </div>\n                    加到購物車\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <!-- 購物車列表 -->\n      <div class=\"col-md-5\">\n        <div class=\"sticky-top\">\n          <table class=\"table align-middle\">\n            <thead>\n              <tr>\n                <th></th>\n                <th>品名</th>\n                <th style=\"width: 130px\">數量</th>\n                <th>單價</th>\n              </tr>\n            </thead>\n            <tbody>\n              <template v-if=\"this.cart\">\n                <tr v-for=\"order in cart.carts\" :key=\"order.id\">\n                  <td>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-danger btn-sm\"\n                      @click=\"deleteOrder(order)\"\n                    >\n                      <i class=\"bi bi-trash\"></i>\n                    </button>\n                  </td>\n                  <td>\n                    {{ order.product.title }}\n                    <div class=\"text-success\" v-if=\"order.coupon\">\n                      已套用優惠券\n                    </div>\n                  </td>\n                  <td>\n                    <div class=\"input-group input-group-sm\">\n                      <input\n                        type=\"number\"\n                        class=\"form-control\"\n                        min=\"1\"\n                        :disabled=\"order.id === status.loadingItem\"\n                        @change=\"updateCart(order)\"\n                        v-model.number=\"order.qty\"\n                      />\n                      <div class=\"input-group-text\">\n                        / {{ order.product.unit }}\n                      </div>\n                    </div>\n                  </td>\n                  <td class=\"text-end\">\n                    <small\n                      class=\"text-success\"\n                      v-if=\"order.final_total !== order.total\"\n                      >折扣價：</small\n                    >\n                    {{ $filters.currency(order.final_total) }}\n                  </td>\n                </tr>\n              </template>\n            </tbody>\n            <tfoot>\n              <tr>\n                <td colspan=\"3\" class=\"text-end\">總計</td>\n                <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\n              </tr>\n              <tr v-if=\"cart.final_total != cart.total\">\n                <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n                <td class=\"text-end text-success\">\n                  {{ $filters.currency(cart.final_total) }}\n                </td>\n              </tr>\n            </tfoot>\n          </table>\n          <div class=\"input-group mb-3 input-group-sm\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"請輸入優惠碼\"\n              v-model=\"coupon_code\"\n            />\n            <div class=\"input-group-append\">\n              <button\n                class=\"btn btn-outline-secondary\"\n                type=\"button\"\n                :disabled=\"\n                  coupon_code != '' && this.status.loadingCoupon === coupon_code\n                \"\n                @click=\"addCouponCode\"\n              >\n                <div\n                  class=\"spinner-border text-secondary spinner-border-sm\"\n                  role=\"status\"\n                  v-if=\"\n                    coupon_code != '' &&\n                    this.status.loadingCoupon === coupon_code\n                  \"\n                >\n                  <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                套用優惠碼\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <hr />\n      <!-- 建立訂單 -->\n      <div class=\"my-5 row justify-content-center\">\n        <Form class=\"col-md-6\" @submit=\"createOrder\" v-slot=\"{ errors }\">\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\">Email</label>\n            <Field\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              class=\"form-control\"\n              rules=\"email|required\"\n              placeholder=\"請輸入 Email\"\n              :class=\"{ 'is-invalid': errors['email'] }\"\n              v-model=\"form.user.email\"\n            />\n            <!-- 此處的 invalid-feedback 搭配上面 is-invalid 表示無效 -->\n            <error-message\n              name=\"email\"\n              class=\"invalid-feedback\"\n            ></error-message>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\">收件人姓名</label>\n            <Field\n              id=\"name\"\n              name=\"姓名\"\n              type=\"text\"\n              class=\"form-control\"\n              rules=\"required\"\n              placeholder=\"請輸入姓名\"\n              :class=\"{ 'is-invalid': errors['姓名'] }\"\n              v-model=\"form.user.name\"\n            />\n            <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"phone\" class=\"form-label\">電話</label>\n            <Field\n              id=\"phone\"\n              name=\"電話\"\n              type=\"text\"\n              class=\"form-control\"\n              placeholder=\"請輸入電話\"\n              :rules=\"isPhone\"\n              :class=\"{ 'is-invalid': errors['電話'] }\"\n              v-model=\"form.user.tel\"\n            />\n            <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\">地址</label>\n            <Field\n              id=\"address\"\n              name=\"地址\"\n              type=\"text\"\n              class=\"form-control\"\n              rules=\"required\"\n              placeholder=\"請輸入地址\"\n              :class=\"{ 'is-invalid': errors['地址'] }\"\n              v-model=\"form.user.address\"\n            />\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"message\" class=\"form-label\">留言</label>\n            <Field\n              as=\"textarea\"\n              id=\"message\"\n              name=\"留言\"\n              type=\"text\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['留言'] }\"\n              v-model=\"form.message\"\n            />\n            <ErrorMessage name=\"留言\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <button\n            class=\"btn btn-danger\"\n            type=\"submit\"\n          >\n            <div\n              class=\"spinner-border text-secondary spinner-border-sm\"\n              role=\"status\"\n              v-if=\"\n                this.form.user.name != '' &&\n                this.status.laodingUserName === this.form.user.name\n              \"\n            >\n              <span class=\"visually-hidden\">Loading...</span>\n            </div>\n            Submit\n          </button>\n        </Form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      product: {},\n      status: {\n        loadingItem: \"\", // 對應品項id\n        loadingCoupon: \"\",\n        laodingUserName: \"\",\n      },\n      cart: [],\n      coupon_code: \"\",\n      form: {\n        user: {\n          name: \"\",\n          email: \"\",\n          tel: \"\",\n          address: \"\",\n        },\n        message: \"\",\n      },\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProducts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(api).then((response) => {\n        this.isLoading = false;\n        if (response.data.success) {\n          this.products = response.data.products;\n        }\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n    addCart(productId) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = productId;\n      const cart = {\n        product_id: productId,\n        qty: 1,\n      };\n      this.$http.post(api, { data: cart }).then((response) => {\n        if (response.data.success) {\n          this.status.loadingItem = \"\";\n          console.log(response);\n          this.getCart();\n        }\n      });\n    },\n    getCart() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(api).then((response) => {\n        if (response.data.success) {\n          console.log(\"getCart\", response);\n          this.cart = response.data.data;\n        }\n      });\n    },\n    deleteOrder(order) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${order.id}`;\n      this.isLoading = true;\n      this.$http.delete(api).then((response) => {\n        if (response.data.success) {\n          this.isLoading = false;\n          console.log(\"deleteOrder\", response);\n          this.getCart();\n        }\n      });\n    },\n    updateCart(order) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${order.id}`;\n      this.status.loadingItem = order.id;\n      const cart = {\n        product_id: order.product_id,\n        qty: order.qty,\n      };\n      this.isLoading = true;\n      this.$http.put(api, { data: cart }).then((response) => {\n        if (response.data.success) {\n          this.isLoading = false;\n          console.log(\"updateCart\", response);\n          this.status.loadingItem = \"\";\n          this.getCart();\n        }\n      });\n    },\n    addCouponCode() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n      this.status.loadingCoupon = this.coupon_code;\n      const coupon = {\n        code: this.coupon_code,\n      };\n      this.$http.post(api, { data: coupon }).then((response) => {\n        if (response.data.success) {\n          console.log(\"addCouponCode\", response);\n          this.status.loadingCoupon = \"\";\n          this.getCart();\n          this.coupon_code = \"\";\n        }\n      });\n    },\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : \"需要正確的電話號碼\";\n    },\n    createOrder() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.form;\n      this.status.laodingUserName = this.form.user.name;\n      this.$http.post(api, { data: order }).then((response) => {\n        console.log(\"createOrder\", response);\n        this.status.laodingUserName = \"\";\n        this.$router.push(`/user/checkout/${response.data.orderId}`);\n      });\n    },\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./UserCart.vue?vue&type=template&id=02036c70\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","href","role","_hoisted_16","_hoisted_23","colspan","_hoisted_40","for","type","_hoisted_56","_createVNode","_component_LoadingComponent","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","products","product","key","id","_hoisted_6","_normalizeStyle","backgroundImage","imageUrl","_hoisted_7","_toDisplayString","title","_hoisted_8","price","_hoisted_9","origin_price","_hoisted_10","_hoisted_11","_hoisted_12","onClick","$event","$options","getProduct","_hoisted_13","disabled","status","loadingItem","addCart","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","cart","carts","order","deleteOrder","coupon","_hoisted_25","_hoisted_26","min","onChange","updateCart","qty","_hoisted_28","unit","_hoisted_29","final_total","total","_hoisted_30","_ctx","$filters","currency","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","placeholder","coupon_code","_hoisted_37","loadingCoupon","_cache","args","addCouponCode","_hoisted_39","_hoisted_41","_hoisted_42","_hoisted_43","_component_Form","onSubmit","createOrder","errors","_hoisted_44","_hoisted_45","_component_Field","name","_normalizeClass","rules","form","user","email","_component_error_message","_hoisted_46","_hoisted_47","_component_ErrorMessage","_hoisted_48","_hoisted_49","isPhone","tel","_hoisted_50","_hoisted_51","address","_hoisted_52","_hoisted_53","as","message","_hoisted_54","laodingUserName","_hoisted_55","_hoisted_57","data","methods","getProducts","api","this","$http","get","then","response","success","$router","push","productId","product_id","post","console","log","getCart","delete","put","code","value","phoneNumber","test","orderId","created","__exports__","render"],"sourceRoot":""}