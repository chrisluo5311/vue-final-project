"use strict";(self["webpackChunkvue_final_project"]=self["webpackChunkvue_final_project"]||[]).push([[680],{7680:function(t,i,s){s.r(i),s.d(i,{default:function(){return D}});var c=s(3396),o=s(7139),r=s(9242);const a={class:"container"},e={"aria-label":"breadcrumb"},u={class:"breadcrumb"},l={class:"breadcrumb-item"},n={class:"breadcrumb-item active","aria-current":"page"},d={class:"row justify-content-center"},p={class:"col-8"},h=["src"],g={class:"col-4"},m={key:0,class:"h5"},_={key:1,class:"h6"},v={key:2,class:"h5"},b=(0,c._)("hr",null,null,-1),w={class:"mb-3"},k=(0,c._)("label",{for:"productNum",class:"form-label"},"數量",-1),f={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status"},y=(0,c._)("span",{class:"visually-hidden"},"Loading...",-1),q=[y];function z(t,i,s,y,z,C){const I=(0,c.up)("LoadingComponent"),L=(0,c.up)("router-link");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(I,{active:z.isLoading},null,8,["active"]),(0,c._)("div",a,[(0,c._)("nav",e,[(0,c._)("ol",u,[(0,c._)("li",l,[(0,c.Wm)(L,{to:"/user/cart"},{default:(0,c.w5)((()=>[(0,c.Uk)("購物車")])),_:1})]),(0,c._)("li",n,(0,o.zw)(z.product.title),1)])]),(0,c._)("div",d,[(0,c._)("article",p,[(0,c._)("h2",null,(0,o.zw)(z.product.title),1),(0,c._)("div",null,(0,o.zw)(z.product.content),1),(0,c._)("div",null,(0,o.zw)(z.product.description),1),(0,c._)("img",{src:z.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,h)]),(0,c._)("div",g,[z.product.price?(0,c.kq)("",!0):((0,c.wg)(),(0,c.iD)("div",m,(0,o.zw)(z.product.origin_price)+" 元 ",1)),z.product.price?((0,c.wg)(),(0,c.iD)("del",_,"原價 "+(0,o.zw)(z.product.origin_price)+" 元",1)):(0,c.kq)("",!0),z.product.price?((0,c.wg)(),(0,c.iD)("div",v," 現在只要 "+(0,o.zw)(z.product.price)+" 元 ",1)):(0,c.kq)("",!0),b,(0,c._)("div",w,[k,(0,c.wy)((0,c._)("input",{type:"number",class:"form-control",id:"productNum",placeholder:"數量",min:"1","onUpdate:modelValue":i[0]||(i[0]=t=>z.quantity=t)},null,512),[[r.nr,z.quantity]])]),(0,c._)("button",{type:"button",class:"btn btn-outline-danger",onClick:i[1]||(i[1]=t=>C.addToCart(z.product.id))},[this.status.loadingItem===z.product.id?((0,c.wg)(),(0,c.iD)("div",f,q)):(0,c.kq)("",!0),(0,c.Uk)(" 加到購物車 ")])])])])],64)}var C={props:["productId"],data(){return{product:{},quantity:1,isLoading:!1,status:{loadingItem:""}}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/chrisluo-api/product/${this.productId}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(console.log("getProduct",t),this.product=t.data.product)}))},addToCart(t){const i="https://vue3-course-api.hexschool.io/api/chrisluo-api/cart";this.status.loadingItem=t;const s={product_id:t,qty:this.quantity};this.$http.post(i,{data:s}).then((t=>{t.data.success&&(this.status.loadingItem="",console.log(t))}))}},created(){this.getProduct()}},I=s(89);const L=(0,I.Z)(C,[["render",z]]);var D=L}}]);
//# sourceMappingURL=680.61a7e38b.js.map